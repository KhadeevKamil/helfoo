# Четвертый экран, узнаем цель

Взять все цели
GET /goals

Ответ:
[
  { id: 1, title: 'Сбросить вес', slug: 'low_fat' },
  { id: 2, title: 'Набрать вес', slug: 'muscles_up' }
]

### Комментарий:
Иконку заливаем в папку public и достаем по слагу.
У каждой цели по 1 блюду каждой категории.

### Слаги целей
'Сбросить вес'/sbrosit_ves

'Набрать массу'/nabrat_massu

'Стать энергичнее'/stat_energichnee

'Быть здоровым'/byt_zdorovym

'Похудеть после родов'/pohudet

'Питаться с учетом аллергии'/alergy

# Шестой экран, варианты блюд

Взять блюда
GET /dishes

Параметры:
goal_slug - слаг цели по которой мы ищем блюда. строка
days - На сколько дней мы ищем блюда. число

Логика:
По каждой диете берем блюда каждой категории случайно.
1 день: Один завтрак, один ужин, один обед, один ланч.
3 дня: (Один завтрак, один ужин, один обед, один ланч) и повторили три раза. Да, блюда могут повторяться из-зо дня в день, но это даст нам рандомизацию меню.
Цена блюда пока на глазок.

Ответ:
[
  {
    day: 1,
    dishes: [
      {
        id: 123,
        title: 'Грушевый салат',
        category: { id: 123, slug: 'breakfast', title: 'Завтрак' },
        image_url: 'http://sdfsdf.com/sdfsdf',
        price: 990
      }
    ]
  }
]
Важно:
У блюда только одна категория всегда



Замена блюда
GET /dishes/change

Параметры:
dish_id - ID блюдо которое мы заменяем

Логика:
Бэк принимает ID блюда. Находит в базе блюдо и его категорию и цель/диету. Находит другое блюдо из той же категории и цели/диеты и отправляет на фронт.

Фронт перед тем как отправить запрос на бэк, запоминает день из которого взять блюдо `day: 1`. Берет новое блюдо из бэка и вставляет в нужные день

Ответ:
{
  id: 123,
  title: 'Грушевый салат',
  category: { id: 123, slug: 'breakfast', title: 'Завтрак' },
  image_url: 'http://sdfsdf.com/sdfsdf',
  price: 990
}


# Шестой экран, просмотр блюда

Взять блюдо
GET /dishes/:dish_id

Ответ:
{
  id: 123,
  title: 'Грушевый салат',
  image_url: 'http://sdfsdf.com/sdfsdf'
  calories: 283,
  carbohydrates: 55,
  protein 10,
  fat: 2,
  category: { id: 4, title: "Salad", slug: "Salad" }, # нужно для дебага :)
  nutritional_values: [
    { id: 123, title: 'Витами А', value: 123}
  ],
  inrgedients: [
    { id: 123, title: 'яйца', value: '3 штуки' }
  ]
}


# Экран 8, цена в торговой сети

GET /carts
Параметры:
dish_ids=[1,1,2,3,4] массив блюд. Да, они могут повторяться если человек хочет блюда на 7 дней вперед.
days - На сколько дней мы ищем блюда. число (нужно для того чтобы расчитывать адекватную стоимость товаров)

Как это работает:
По блюдам берется массив уникальных ингридиентов. Из таблицы products берется товары по каждому магазину с минимальной ценой.
Важно: Надо поиграть и посмотреть насолько адекватная цена для 1-го дня (4 блюда) и 5-ти дней (20 блюд). Наверно для цены нужно будет делать коэффициент для кол-ва дней. Типо 
1 день: коэффициент 1
3 дня: 0.8
5 дней: 0.6

Ответ:
[
  { 
    shop_name: 'Перекресток', 
    slug: 'perek', 
    price: '999',
    products: [
      {
        id: 11,
        title: 'картошка мытая'
        amount: 1,
        image: 'http://dsfsdf.com/sdfsdf.jpg',
        price: 99,
      },
      {
        id: 12,
        title: 'Котлеты Котофей 1 упаковка'
        amount: 3,
        image: 'http://dsfsdf.com/sdfsdf2.jpg',
        price: 300,
      },
    ]
  },
  { 
    shop_name: 'Метро', 
    slug: 'metro', 
    price: '672',
    products: []
  }
]
slug - для картинки магазина
